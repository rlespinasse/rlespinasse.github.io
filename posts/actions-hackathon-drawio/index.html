<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge">
<meta name=theme-color content="#494f5c">
<meta name=msapplication-TileColor content="#494f5c">
<meta itemprop=name content="Actions Hackathon | Keep your draw.io diagrams in sync inside your repository">
<meta itemprop=description content="This post is link to a submission on Dev.to Github Action Hackathon This post have been published first on dev.to.
 My Workflow You have Draw.io diagram files on your repository? You export them manually to have them as images (png, jpg) or pdf?
You can keep your diagrams as exported images (png, jpg) or pdf and keep them synchronized when the diagram files are updated.
Submission Category  Maintainer Must-Haves  Yaml File or Link to Code Example to keep your draw."><meta itemprop=datePublished content="2020-08-16T12:42:00+02:00">
<meta itemprop=dateModified content="2020-08-16T12:42:00+02:00">
<meta itemprop=wordCount content="146">
<meta itemprop=keywords content="actionshackathon,github,opensource,drawio,"><meta property="og:title" content="Actions Hackathon | Keep your draw.io diagrams in sync inside your repository">
<meta property="og:description" content="This post is link to a submission on Dev.to Github Action Hackathon This post have been published first on dev.to.
 My Workflow You have Draw.io diagram files on your repository? You export them manually to have them as images (png, jpg) or pdf?
You can keep your diagrams as exported images (png, jpg) or pdf and keep them synchronized when the diagram files are updated.
Submission Category  Maintainer Must-Haves  Yaml File or Link to Code Example to keep your draw.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.romainlespinasse.dev/posts/actions-hackathon-drawio/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-08-16T12:42:00+02:00">
<meta property="article:modified_time" content="2020-08-16T12:42:00+02:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Actions Hackathon | Keep your draw.io diagrams in sync inside your repository">
<meta name=twitter:description content="This post is link to a submission on Dev.to Github Action Hackathon This post have been published first on dev.to.
 My Workflow You have Draw.io diagram files on your repository? You export them manually to have them as images (png, jpg) or pdf?
You can keep your diagrams as exported images (png, jpg) or pdf and keep them synchronized when the diagram files are updated.
Submission Category  Maintainer Must-Haves  Yaml File or Link to Code Example to keep your draw.">
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color>
<link rel="shortcut icon" href=/favicon.ico>
<title>Actions Hackathon | Keep your draw.io diagrams in sync inside your repository</title>
<link rel=stylesheet href=https://www.romainlespinasse.dev/css/style.min.037b6ee8f8c1baab6a3d0a9da11c3ff18a7552471f16c59fd98538d5ce99208b.css integrity="sha256-A3tu6PjBuqtqPQqdoRw/8Yp1UkcfFsWf2YU41c6ZIIs=" crossorigin=anonymous>
</head>
<body id=page>
<header id=site-header class="animated slideInUp">
<div class="hdr-wrapper section-inner">
<div class=hdr-left>
<div class=site-branding>
<a href=https://www.romainlespinasse.dev>Romain Lespinasse</a>
</div>
<nav class="site-nav hide-in-mobile">
<a href=https://www.romainlespinasse.dev/posts/>Technical posts</a>
<a href=https://www.romainlespinasse.dev/personal-projects/>Personal projects</a>
<a href=https://www.romainlespinasse.dev/townscaper/>Townscaper creations</a>
<a href=https://www.romainlespinasse.dev/certifications/>Certifications</a>
</nav>
</div>
<div class="hdr-right hdr-icons">
<button id=toc-btn class="hdr-btn desktop-only-ib" title="Table of Contents"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3" y2="6"/><line x1="3" y1="12" x2="3" y2="12"/><line x1="3" y1="18" x2="3" y2="18"/></svg></button><span class="hdr-social hide-in-mobile"><a href=https://twitter.com/rlespinasse target=_blank rel="noopener me" title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a><a href=https://www.linkedin.com/in/romain-lespinasse target=_blank rel="noopener me" title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a><a href=https://github.com/rlespinasse target=_blank rel="noopener me" title=Github><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://www.instagram.com/rlespinasse/ target=_blank rel="noopener me" title=Instagram><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"/><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"/></svg></a></span><button id=menu-btn class=hdr-btn title=Menu><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button>
</div>
</div>
</header>
<div id=mobile-menu class="animated fast">
<ul>
<li><a href=https://www.romainlespinasse.dev/posts/>Technical posts</a></li>
<li><a href=https://www.romainlespinasse.dev/personal-projects/>Personal projects</a></li>
<li><a href=https://www.romainlespinasse.dev/townscaper/>Townscaper creations</a></li>
<li><a href=https://www.romainlespinasse.dev/certifications/>Certifications</a></li>
</ul>
</div>
<main class="site-main section-inner animated fadeIn faster">
<article class=thin>
<header class=post-header>
<div class=post-meta><span>Aug 16, 2020</span></div>
<h1>Actions Hackathon | Keep your draw.io diagrams in sync inside your repository</h1>
</header>
<div class=content>
<blockquote>
<p>This post is link to a submission on Dev.to Github Action Hackathon
This post have been published first on <a href=https://dev.to/rlespinasse/keep-your-draw-io-diagrams-in-sync-inside-your-repository-bka>dev.to</a>.</p>
</blockquote>
<h2 id=my-workflow>My Workflow<a href=#my-workflow class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2>
<p>You have <a href=https://app.diagrams.net/>Draw.io</a> diagram files on your repository? You export them manually to have them as images (png, jpg) or pdf?</p>
<p>You can keep your diagrams as exported images (png, jpg) or pdf and keep them synchronized when the diagram files are updated.</p>
<h2 id=submission-category>Submission Category<a href=#submission-category class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2>
<ul>
<li>Maintainer Must-Haves</li>
</ul>
<h2 id=yaml-file-or-link-to-code>Yaml File or Link to Code<a href=#yaml-file-or-link-to-code class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2>
<p>Example to keep your draw.io files exported as PNG files with associated Asciidoctor pages.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Keep draw.io export synchronized</span><span class=w>
</span><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=l>master</span><span class=w>
</span><span class=w>    </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=s2>&#34;**.drawio&#34;</span><span class=w>
</span><span class=w>      </span>- <span class=l>.github/workflows/drawio-export.yml</span><span class=w>
</span><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>drawio-export</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout sources</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GH_TOKEN }}</span><span class=w>
</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Export drawio files to asciidoctor and png files</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>docker://rlespinasse/drawio-export:v3.x</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>args</span><span class=p>:</span><span class=w> </span>--<span class=l>fileext adoc --folder drawio-assets --transparent --on-changes</span><span class=w>
</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Get author and committer info from HEAD commit</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>rlespinasse/git-commit-data-action@v1.x</span><span class=w>
</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Commit changed files</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>stefanzweifel/git-auto-commit-action@v4.1.6</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>commit_message</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;docs: sync draw.io exported files&#34;</span><span class=w>
</span><span class=w>          </span><span class=nt>commit_user_name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;${{ env.GIT_COMMIT_COMMITTER_NAME }}&#34;</span><span class=w>
</span><span class=w>          </span><span class=nt>commit_user_email</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;${{ env.GIT_COMMIT_COMMITTER_EMAIL }}&#34;</span><span class=w>
</span><span class=w>          </span><span class=nt>commit_author</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;${{ env.GIT_COMMIT_AUTHOR }}&#34;</span><span class=w>
</span></code></pre></div><h2 id=additional-resources--info>Additional Resources / Info<a href=#additional-resources--info class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2>
<p>Learn more about the <a href=https://github.com/rlespinasse/drawio-export><code>drawio-export</code></a> docker image.</p>
<p>Contributions welcome.</p>
</div>
<hr class=post-end>
<footer class=post-info>
<p>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://www.romainlespinasse.dev/tags/actionshackathon>actionshackathon</a></span><span class=tag><a href=https://www.romainlespinasse.dev/tags/github>github</a></span><span class=tag><a href=https://www.romainlespinasse.dev/tags/opensource>opensource</a></span><span class=tag><a href=https://www.romainlespinasse.dev/tags/drawio>drawio</a></span>
</p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>146 Words</p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2020-08-16 10:42 +0000</p>
</footer>
</article>
<aside id=toc>
<div class=toc-title>Table of Contents</div>
<nav id=TableOfContents>
<ul>
<li><a href=#my-workflow>My Workflow</a></li>
<li><a href=#submission-category>Submission Category</a></li>
<li><a href=#yaml-file-or-link-to-code>Yaml File or Link to Code</a></li>
<li><a href=#additional-resources--info>Additional Resources / Info</a></li>
</ul>
</nav>
</aside>
<div class="post-nav thin">
<a class=next-post href=https://www.romainlespinasse.dev/posts/motto-testing-environment/>
<span class=post-nav-label><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>&nbsp;Newer</span><br><span>Motto | Everybody has a testing environment</span>
</a>
<a class=prev-post href=https://www.romainlespinasse.dev/posts/actions-hackathon-commit-info/>
<span class=post-nav-label>Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></span><br><span>Actions Hackathon | Access commit info for your release and deployment workflows</span>
</a>
</div>
<div id=comments class=thin>
</div>
</main>
<footer id=site-footer class="section-inner thin animated fadeIn faster">
<p>&copy; 2023 <a href=https://www.romainlespinasse.dev>Romain Lespinasse</a> &#183; <a href=https://tldrlegal.com/license/mit-license target=_blank rel=noopener>MIT License</a></p>
<p>
Made with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> &#183; Theme <a href=https://github.com/Track3/hermit target=_blank rel=noopener>Hermit</a> &#183; <a href=https://www.romainlespinasse.dev/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a>
</p>
</footer>
<script src=https://www.romainlespinasse.dev/js/bundle.min.7d8545daa55d62427355498dd8da13f98ff79a7938ce7d2a5e2ae1ec0de3beb8.js integrity="sha256-fYVF2qVdYkJzVUmN2NoT+Y/3mnk4zn0qXirh7A3jvrg=" crossorigin=anonymous></script>
</body>
</html>